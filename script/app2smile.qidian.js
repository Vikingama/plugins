// https://raw.githubusercontent.com/app2smile/rules/master/js/qidian.js
let t=$request.url,a=$request.method;$response.body||$done({});let i=JSON.parse($response.body);const e="起点 App 脚本错误",n="GET";i.Data?t.includes("v4/client/getsplashscreen")&&a===n?(i.Data.List?i.Data.List=null:$notification.post(e,"起点","List 字段空"),"EnableGDT"in i.Data?1===i.Data.EnableGDT&&(i.Data.EnableGDT=0):$notification.post(e,"起点","EnableGDT 字段为空")):t.includes("v2/deeplink/geturl")&&a===n?"QDReader://Bookstore"===i.Data.ActionUrl&&(i.Data=null):t.includes("v1/adv/getadvlistbatch?positions=iOS_tab")&&a===n?i.Data.iOS_tab?0===i.Data.iOS_tab.length||(i.Data.iOS_tab=[]):$notification.post(e,"起点-iOS_tab","iOS_tab 字段为空"):t.includes("v2/dailyrecommend/getdailyrecommend")&&a===n?i.Data.Items?.length&&(i.Data.Items=[]):t.includes("v1/bookshelf/getHoverAdv")&&a===n?i.Data.ItemList?.length&&(i.Data.ItemList=[]):t.includes("v1/client/getconf")&&"POST"===a?(i.Data.ActivityPopup?.Data?i.Data.ActivityPopup=null:$notification.post(e,"起点-getconf","ActivityPopup/Data 字段为空"),1===i.Data.WolfEye&&(i.Data.WolfEye=0),0!==i.Data.ActivityIcon?.Type?$notification.post(e,"起点-getconf","ActivityIcon/Type 字段错误"):0===i.Data.ActivityIcon.EndTime||(i.Data.ActivityIcon.StartTime=0,i.Data.ActivityIcon.EndTime=0,delete i.Data.ActivityIcon.Actionurl,delete i.Data.ActivityIcon.Icon),"1"===i.Data.EnableSearchUser||(i.Data.EnableSearchUser="1")):$notification.post(e,"起点 App 路径/请求方法匹配错误：",a+","+t):$notification.post(e,"起点","Data 为空"),i=JSON.stringify(i),$done({body:i});
