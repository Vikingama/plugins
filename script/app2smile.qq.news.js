// https://raw.githubusercontent.com/app2smile/rules/master/js/qq-news.js
let e=$request.url,t=$request.method;$response.body||$done({});let s=JSON.parse($response.body);if("POST"!==t&&$notification.post("腾讯新闻 App 脚本错误","method 错误：",t),e.includes("r.inews.qq.com/gw/page/event_detail"))i("event_detail");else if(e.includes("r.inews.qq.com/gw/page/channel_feed"))i("channel_feed");else{let t="";e.includes("news.ssp.qq.com/app")?t="开屏页":e.includes("r.inews.qq.com/getQQNewsUnreadList")?t="要闻/财经等":e.includes("r.inews.qq.com/news_feed/hot_module_list")?t="财经精选 - 更多":e.includes("r.inews.qq.com/gw/event/list")?t="专题 gw/event/list":e.includes("r.inews.qq.com/getTwentyFourHourNews")?t="热点精选 getTwentyFourHourNews":e.includes("r.inews.qq.com/getQQNewsListItems")?t="热点精选 getQQNewsListItems":e.includes("r.inews.qq.com/getTagFeedList")?t="getTagFeedList":$notification.post("腾讯新闻 App 脚本错误","路径匹配错误：",e),s.adList&&(s.adList=null)}function i(e){s.data.widget_list?s.data.widget_list=s.data.widget_list.filter((e=>"ad_list"!==e.widget_type)):$notification.post("腾讯新闻 App 脚本错误",e,"无 widget_list 字段")}s=JSON.stringify(s),$done({body:s});
